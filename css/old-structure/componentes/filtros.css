/**
 * Filtros - Materias Eléctrica
 * Controles de filtro y diseño para funcionalidad de búsqueda
 */

/* === CONTENEDOR DE FILTROS === */
.filters {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-3);
  align-items: end;
  background-color: var(--color-surface);
  padding: var(--space-4);
  border-radius: var(--radius-lg);
  border: 1px solid var(--color-border);
  margin: var(--space-4) auto;
  max-width: var(--container-max-width);
  box-shadow: var(--shadow-sm);
}

/* Filtros principales para index.html (perfil y énfasis) - diseño grid 2x2 */
body:has(#tree) .filters:not(.additional-filters) {
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;         /* <-- Importante: no permite que se bajen de línea */
  justify-content: center;   /* Centrado horizontal */
  align-items: center;       /* Alinear verticalmente */
  gap: var(--space-4);       /* Espaciado entre filtros */
  max-width: 100%;
  background: #ffffff;
  overflow-x: auto;          /* Permite scrollear horizontal si no entra */
}



/* Ensure emphasis selector stays visible and same size */
body:has(#tree) .filters:not(.additional-filters) .filter-group {
  width: auto;
  max-width: none;
  flex: 0 0 auto;  /* No se expanden, mantienen su tamaño natural */
}



body:has(#tree) .filters:not(.additional-filters) select {
  width: auto;
  min-width: 180px; /* O ajustá según prefieras */
}


.filters.additional-filters {
  margin-top: var(--space-2);
  background-color: var(--color-surface);
  border: 1px solid var(--color-border);
  box-shadow: var(--shadow-sm);
}

/* Additional filters specific styling */
.filters.additional-filters .filter-group label {
  color: var(--color-text-primary);
}

.filters.additional-filters .filter-group input[type="checkbox"] {
  padding: var(--space-2) var(--space-3);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-base);
  font-size: var(--text-sm);
  background: var(--color-surface);
  transition: var(--transition-fast);
  min-width: 130px;
  color: var(--color-text-inverted);
  accent-color: var(--color-primary);
  transform: scale(1.2);
  margin: 0;
}



.filters.additional-filters .filter-group input[type="checkbox"]:focus {
  outline: none;
  border-color: var(--color-border-focus);
  box-shadow: 0 0 0 3px rgba(0, 102, 204, 0.1);
}

/* === GRUPO DE FILTROS === */
.filter-group {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
  min-width: 140px;
  flex: 1 1 auto;
  max-width: 250px;
}

.filter-group label {
  font-size: var(--text-sm);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.025em;
}

.filter-group select,
.filter-group input {
  flex: 1;
  min-width: 0;
}

/* === SECCIONES DE FILTROS === */
.filter-section {
  background-color: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  padding: var(--space-6);
  margin-bottom: var(--space-6);
  box-shadow: var(--shadow-sm);
}

.filter-section h3 {
  margin-bottom: var(--space-4);
  color: var(--color-primary);
  font-size: var(--text-lg);
  border-bottom: 2px solid var(--color-border-light);
  padding-bottom: var(--space-2);
}

/* === FILAS DE FILTROS === */
.filter-row {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-4);
  margin-bottom: var(--space-4);
  align-items: flex-end;
}

.filter-row:last-child {
  margin-bottom: 0;
}

/* === ELEMENTOS DE FILTROS === */
.filter-label {
  display: block;
  font-weight: var(--font-weight-medium);
  margin-bottom: var(--space-1);
  color: var(--color-text-primary);
  font-size: var(--text-sm);
}

.filter-select,
.filter-input {
  padding: var(--space-2) var(--space-3);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-base);
  font-size: var(--text-sm);
  background: var(--color-surface);
  transition: var(--transition-fast);
  min-width: 130px;
  color: var(--color-text-primary);
}

.filter-select:focus,
.filter-input:focus {
  outline: none;
  border-color: var(--color-border-focus);
  box-shadow: 0 0 0 3px rgba(0, 102, 204, 0.1);
}

.filter-select:disabled,
.filter-input:disabled {
  background-color: var(--color-surface-disabled);
  color: var(--color-text-disabled);
  cursor: not-allowed;
}

/* === DISEÑO RESPONSIVO === */
@media (max-width: 768px) {
  .filters {
    flex-direction: column;
    gap: var(--space-2);
    padding: var(--space-3);
  }
  
  body:has(#tree) .filters:not(.additional-filters) {
    display: flex;
    flex-direction: column;
    max-width: none;
    justify-items: stretch;
  }
  
  .filter-group {
    max-width: none;
  }
  
  .filter-row {
    flex-direction: column;
    gap: var(--space-2);
  }
  
  .filter-select,
  .filter-input {
    min-width: 100%;
  }
  
  .filter-section {
    padding: var(--space-3);
  }
}

@media (max-width: 480px) {
  .filters {
    padding: var(--space-2);
  }
  
  .filter-group {
    min-width: 100%;
  }
}
